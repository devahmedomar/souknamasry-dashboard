<p-table
  [value]="filteredData"
  [paginator]="true"
  [rows]="5"
  [rowsPerPageOptions]="rowsPerPageOptions"
  paginatorPosition="bottom"
  [alwaysShowPaginator]="false"
  scrollable="true"
  class="custom-table"
>
  <!-- ðŸ”¹ Table Header -->
  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let col of columns" [style.width]="col.width">
        {{ col.header }}
      </th>
      <th style="width: 140px">Actions</th>
    </tr>
  </ng-template>

  <!-- ðŸ”¹ Table Body -->
  <ng-template pTemplate="body" let-row>
    <tr>
      <td *ngFor="let col of columns">
        <ng-container [ngSwitch]="col.field">
          <!-- âœ… Boolean Display -->
          <ng-container *ngSwitchCase="'hasOrder'">
            {{ row[col.field] ? "Yes" : "No" }}
          </ng-container>

          <!-- âœ… Status Display -->
          <ng-container *ngSwitchCase="'status'">
            <span
              class="status-badge"
              [ngClass]="'status-' + row.status?.toLowerCase()"
            >
              <i
                class="pi me-1"
                [ngClass]="{
                  'pi-check-circle': row.status?.toLowerCase() === 'active',
                  'pi-times-circle': row.status?.toLowerCase() === 'inactive' || row.status?.toLowerCase() === 'cancelled',
                  'pi-clock': row.status?.toLowerCase() === 'pending',
                  'pi-truck': row.status?.toLowerCase() === 'shipped',
                  'pi-box': row.status?.toLowerCase() === 'delivered'
                }"
              ></i>
              {{ row.status }}
            </span>
          </ng-container>

          <!-- âœ… Default Case -->
          <ng-container *ngSwitchDefault>
            {{ row[col.field] }}
          </ng-container>
        </ng-container>
      </td>

      <!-- ðŸ”¹ Actions -->
      <td class="actions-cell">
        <button
          pButton
          icon="pi pi-eye"
          class="p-button-sm p-button-text p-button-info"
          (click)="onView.emit(row)"
          tooltip="View"
        ></button>

        <button
          pButton
          icon="pi pi-pencil"
          class="p-button-sm p-button-text p-button-warning"
          (click)="onEdit.emit(row)"
          tooltip="Edit"
        ></button>

        <button
          pButton
          icon="pi pi-trash"
          class="p-button-sm p-button-text p-button-danger"
          (click)="confirmDelete(row)"
          tooltip="Delete"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>
